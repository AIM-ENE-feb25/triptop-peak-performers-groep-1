@startuml
!include <C4/C4_Container>

title C4 Component Diagram - Triptop Applicatie

Person(Reiziger, "Reiziger", "Iemand die de app gebruikt voor reizen")
Person(ReisAgent, "ReisAgent", "Iemand die de reiziger helpt bij de reis")



System_Boundary(c3, Triptop Applicatie) {
'frontend
Container(TriptopFrontend,TriptopFrontend,React Application,De webapplicatie waarop reizigers hun eigen reis kunnen samenstellen)
'backend
'controller
Container(TriptopController,TriptopController,Spring MVC Controller, Hier worden de calls van de frontend naar de backend in afgehandeld)
'service
Container(TriptopService,TriptopService,Spring MVC Service,Hier word de business logica van de endpoints in afgehandeld)

'database
ContainerDb(db, TriptopDatabase, Component: ? , Slaat Data op voor de gebruikers)

'Externe API Adapters
Container(BookingAdapter,BookingAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(VluchtenAdapter,VluchtenAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(VerhuurAdapter,VerhuurAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(VervoerAdapter,VervoerAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(RestaurantAdapter,RestaurantAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(ActiviteitenAdapter,ActiviteitenAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
Container(BetaalsysteemAdapter,BetaalsysteemAdapter,External API Adapter,Formatteert inkomende en uitgaande data van en naar de externe API)
}



'Externe API's
Container_Ext(Booking.comAPI, Booking.comAPI,ExterneAPI,API om hotels op te halen)
Container_Ext(VluchtenAPI, GoogleFlightsAPI,ExterneAPI,API om vluchten op te halen)
Container_Ext(VerhuurAPI, "VerhuurAPI",ExterneAPI,"Deze API is voor autoverhuur zoals Bijvoorbeeld: Sixt en hertx")
Container_Ext(RestaurantAPI, RestaurantAPI,ExterneAPI,"Deze API is voor het TakeAway en thuis bezorgt")
Container_Ext(ActiviteitenAPI, "ActiviteitenAPI",ExterneAPI,"Deze API is voor activiteiten zoals tripAdvisor")
Container_Ext(BetaalSystemenAPI, "BetaalSystemenAPI",ExterneAPI,"Is voor IDEAL en credit card ect")
Container_Ext(VervoerAPI, "VervoerAPI",ExterneAPI,"Voor vervoer zoals NS deutschebhan ect")






'Relaties gebruikers
Rel(Reiziger,TriptopFrontend, "Gebruikt")
Rel("ReisAgent",TriptopFrontend, "Gebruikt")

'frontend -> controller
Rel(TriptopFrontend,TriptopController,Stuurt request naar)

'controller -> service
Rel(TriptopController,TriptopService,Maakt gebruik van)

'service -> database
Rel(TriptopService,db,Haalt en verstuurt data op naar)

'backend -> adapters
Rel(TriptopService,BookingAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,VluchtenAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,VerhuurAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,RestaurantAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,ActiviteitenAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,BetaalsysteemAdapter,Haalt en verstuurt data op naar)
Rel(TriptopService,VervoerAdapter,Haalt en verstuurt data op naar)

'adapter -> api
Rel(BookingAdapter,Booking.comAPI,Haalt en verstuurt data op naar)
Rel(VluchtenAdapter,VluchtenAPI,Haalt en verstuurt data op naar)
Rel(VerhuurAdapter,VerhuurAPI,Haalt en verstuurt data op naar)
Rel(VervoerAdapter,VervoerAPI,Haalt en verstuurt data op naar)
Rel(RestaurantAdapter,RestaurantAPI,Haalt en verstuurt data op naar)
Rel(ActiviteitenAdapter,ActiviteitenAPI,Haalt en verstuurt data op naar)
Rel(BetaalsysteemAdapter,BetaalSystemenAPI,Haalt en verstuurt data op naar)







@enduml
