@startuml
!include <C4/C4_Container>

title Container diagram van Triptop App

Boundary(system, "Triptop App") {
    ContainerDb(db, "Database", "PostgreSQL", "Slaat gebruikersgegevens en reisplannen op")
    Container(webapp, "Webapplicatie", "React", "Biedt een UI voor reizigers om reizen samen te stellen")
    Container(api, "Backend API", "Spring Boot", "Handelt businesslogica af en communiceert met externe systemen en database")
}

Person(Reiziger, "Reiziger", "Gebruikt de webapplicatie om reizen te plannen")
Person(ReisAgent, "ReisAgent", "Helpt reizigers bij het samenstellen van reizen")

Container_Ext(OvernachtingenAPI, "OvernachtingenAPI", "Extern systeem", "Bijvoorbeeld Booking.com/Airbnb")
Container_Ext(VerhuurAPI, "VerhuurAPI", "Extern systeem", "Autoverhuur zoals Sixt en Hertz")
Container_Ext(EtenEnDrinkenAPI, "EtenEnDrinkenAPI", "Extern systeem", "Takeaway en bezorgdiensten")
Container_Ext(ActiviteitenAPI, "ActiviteitenAPI", "Extern systeem", "Activiteiten zoals TripAdvisor")
Container_Ext(BetaalSystemenAPI, "BetaalSystemenAPI", "Extern systeem", "Betaalsystemen zoals iDEAL en creditcards")
Container_Ext(InloggenAPI, "InloggenAPI", "Extern systeem", "Authenticatie via OAuth/JWT")
Container_Ext(VervoerAPI, "VervoerAPI", "Extern systeem", "Vervoer zoals NS en Deutsche Bahn")

Rel(Reiziger, webapp, "Gebruikt via browser")
Rel(ReisAgent, webapp, "Gebruikt via browser")
Rel(webapp, api, "REST API calls (JSON over HTTP)")
Rel(api, db, "SQL Queries over JDBC")
Rel(api, OvernachtingenAPI, "REST API calls (JSON over HTTP)")
Rel(api, VerhuurAPI, "REST API calls (JSON over HTTP)")
Rel(api, EtenEnDrinkenAPI, "REST API calls (JSON over HTTP)")
Rel(api, ActiviteitenAPI, "REST API calls (JSON over HTTP)")
Rel(api, BetaalSystemenAPI, "REST API calls (JSON over HTTP)")
Rel(api, InloggenAPI, "REST API calls (OAuth 2.0 / JWT)")
Rel(api, VervoerAPI, "REST API calls (JSON over HTTP)")

@enduml
